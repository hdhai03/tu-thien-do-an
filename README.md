# NuÃ´i Em - Ná»n táº£ng QuyÃªn gÃ³p Tá»« thiá»‡n Trá»±c tuyáº¿n

**NuÃ´i Em** lÃ  má»™t ná»n táº£ng web á»©ng dá»¥ng cÃ´ng nghá»‡ Ä‘á»ƒ káº¿t ná»‘i nhá»¯ng nhÃ  háº£o tÃ¢m vá»›i cÃ¡c hoÃ n cáº£nh khÃ³ khÄƒn, cÃ¡c dá»± Ã¡n thiá»‡n nguyá»‡n trÃªn kháº¯p Viá»‡t Nam. Ná»n táº£ng cung cáº¥p má»™t há»‡ sinh thÃ¡i minh báº¡ch, dá»… sá»­ dá»¥ng, tÃ­ch há»£p trÃ­ tuá»‡ nhÃ¢n táº¡o (AI) Ä‘á»ƒ há»— trá»£ ngÆ°á»i dÃ¹ng vÃ  tá»± Ä‘á»™ng hÃ³a cÃ¡c quy trÃ¬nh truyá»n thÃ´ng.

---

## ğŸš€ CÃ´ng nghá»‡ sá»­ dá»¥ng (Tech Stack)

- **Frontend:** React 18, TypeScript, Vite, Tailwind CSS, Lucide React (Icons).
- **Backend & Database:** Firebase (Authentication, Firestore Database, Cloud Storage).
- **AI Integration:** Google Gemini API (Gemini 3 Flash Preview) tÃ­ch há»£p RAG (Retrieval-Augmented Generation).
- **External API:** Facebook Graph API (Tá»± Ä‘á»™ng Ä‘Äƒng bÃ i).
- **Routing:** React Router DOM.
- **Date Formatting:** date-fns.

---

## ğŸŒŸ CÃ¡c chá»©c nÄƒng chÃ­nh (Key Features)

Há»‡ thá»‘ng phÃ¢n chia ngÆ°á»i dÃ¹ng thÃ nh 3 vai trÃ² (Roles):
- **Role 1 (NgÆ°á»i dÃ¹ng/NhÃ  háº£o tÃ¢m):** ÄÄƒng kÃ½/ÄÄƒng nháº­p, xem dá»± Ã¡n, quyÃªn gÃ³p, Ä‘Äƒng bÃ i cá»™ng Ä‘á»“ng, nÃ¢ng cáº¥p thÃ nh tá»• chá»©c, chat vá»›i AI/Admin, nháº­n thÃ´ng bÃ¡o.
- **Role 2 (Tá»• chá»©c):** Bao gá»“m quyá»n cá»§a Role 1, cÃ³ thÃªm quyá»n táº¡o dá»± Ã¡n quyÃªn gÃ³p, quáº£n lÃ½ dá»± Ã¡n cá»§a tá»• chá»©c.
- **Role 0 (Quáº£n trá»‹ viÃªn - Admin):** Quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng, duyá»‡t dá»± Ã¡n, duyá»‡t bÃ i viáº¿t, duyá»‡t tá»• chá»©c, Ä‘Äƒng tin tá»©c, chat há»— trá»£ ngÆ°á»i dÃ¹ng.

### 1. DÃ nh cho KhÃ¡ch (Guest)
- Xem trang chá»§, danh sÃ¡ch dá»± Ã¡n, chi tiáº¿t dá»± Ã¡n, tin tá»©c, bÃ i viáº¿t cá»™ng Ä‘á»“ng.
- Chat vá»›i AI Assistant Ä‘á»ƒ Ä‘Æ°á»£c tÆ° váº¥n (sá»­ dá»¥ng RAG láº¥y dá»¯ liá»‡u thá»±c táº¿ tá»« há»‡ thá»‘ng).
- ÄÄƒng kÃ½, Ä‘Äƒng nháº­p.

### 2. DÃ nh cho NgÆ°á»i dÃ¹ng (User)
- **QuyÃªn gÃ³p:** Thá»±c hiá»‡n quyÃªn gÃ³p cho cÃ¡c dá»± Ã¡n, Ä‘á»ƒ láº¡i lá»i chÃºc.
- **Cá»™ng Ä‘á»“ng:** ÄÄƒng bÃ i viáº¿t chia sáº» (chá» duyá»‡t), Like, Comment bÃ i viáº¿t cá»§a ngÆ°á»i khÃ¡c.
- **Há»“ sÆ¡:** Xem lá»‹ch sá»­ quyÃªn gÃ³p, cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n.
- **ÄÄƒng kÃ½ Tá»• chá»©c:** Gá»­i yÃªu cáº§u nÃ¢ng cáº¥p tÃ i khoáº£n thÃ nh Tá»• chá»©c (cung cáº¥p tÃªn, mÃ´ táº£, logo, giáº¥y tá» chá»©ng thá»±c).
- **Há»— trá»£:** Chat trá»±c tiáº¿p vá»›i Admin.
- **ThÃ´ng bÃ¡o:** Nháº­n thÃ´ng bÃ¡o realtime khi dá»± Ã¡n/bÃ i viáº¿t/yÃªu cáº§u tá»• chá»©c Ä‘Æ°á»£c duyá»‡t.

### 3. DÃ nh cho Tá»• chá»©c (Organization)
- **Quáº£n lÃ½ dá»± Ã¡n:** Táº¡o dá»± Ã¡n quyÃªn gÃ³p má»›i (cáº§n Admin duyá»‡t).
- Theo dÃµi tiáº¿n Ä‘á»™ quyÃªn gÃ³p cá»§a cÃ¡c dá»± Ã¡n do tá»• chá»©c quáº£n lÃ½.

### 4. DÃ nh cho Quáº£n trá»‹ viÃªn (Admin)
- **Dashboard:** Xem thá»‘ng kÃª tá»•ng quan (sá»‘ dá»± Ã¡n, tin tá»©c, tá»•ng tiá»n quyÃªn gÃ³p).
- **Kiá»ƒm duyá»‡t:**
  - Duyá»‡t/Tá»« chá»‘i dá»± Ã¡n má»›i. **Tá»± Ä‘á»™ng Ä‘Äƒng bÃ i lÃªn Facebook Page** khi dá»± Ã¡n Ä‘Æ°á»£c duyá»‡t.
  - Duyá»‡t/Tá»« chá»‘i bÃ i viáº¿t cá»™ng Ä‘á»“ng.
  - Duyá»‡t/Tá»« chá»‘i yÃªu cáº§u Ä‘Äƒng kÃ½ Tá»• chá»©c.
- **Quáº£n lÃ½ ná»™i dung:** ÄÄƒng tin tá»©c má»›i, xÃ³a dá»± Ã¡n/tin tá»©c/bÃ i viáº¿t vi pháº¡m.
- **Quáº£n lÃ½ tá»• chá»©c:** Xem danh sÃ¡ch tá»• chá»©c, xÃ³a tá»• chá»©c (háº¡ quyá»n vá» User).
- **Há»— trá»£ trá»±c tuyáº¿n:** Quáº£n lÃ½ danh sÃ¡ch chat, tráº£ lá»i tin nháº¯n cá»§a ngÆ°á»i dÃ¹ng.

---

## ğŸ›¡ï¸ YÃªu cáº§u phi chá»©c nÄƒng (Non-Functional Requirements)

1. **Giao diá»‡n (UI/UX):** Thiáº¿t káº¿ Responsive, hoáº¡t Ä‘á»™ng mÆ°á»£t mÃ  trÃªn cáº£ Mobile, Tablet vÃ  Desktop. Sá»­ dá»¥ng Tailwind CSS vá»›i phong cÃ¡ch hiá»‡n Ä‘áº¡i, thÃ¢n thiá»‡n, mÃ u sáº¯c áº¥m Ã¡p (Pink/Rose).
2. **Hiá»‡u suáº¥t:** Táº£i trang nhanh, cáº­p nháº­t dá»¯ liá»‡u realtime mÆ°á»£t mÃ  thÃ´ng qua Firestore `onSnapshot` (Chat, ThÃ´ng bÃ¡o).
3. **Báº£o máº­t:** 
   - Dá»¯ liá»‡u Ä‘Æ°á»£c báº£o vá»‡ qua Firebase Security Rules.
   - Máº­t kháº©u Ä‘Æ°á»£c mÃ£ hÃ³a bá»Ÿi Firebase Auth.
   - CÃ¡c API Keys (Gemini, Facebook) Ä‘Æ°á»£c báº£o máº­t qua Environment Variables, khÃ´ng lá»™ trÃªn client-side Ä‘á»‘i vá»›i cÃ¡c tÃ¡c vá»¥ nháº¡y cáº£m.
4. **TÃ­nh kháº£ dá»¥ng:** Há»‡ thá»‘ng hoáº¡t Ä‘á»™ng 24/7, AI Chatbot luÃ´n sáºµn sÃ ng há»— trá»£ ngÆ°á»i dÃ¹ng giáº£i Ä‘Ã¡p tháº¯c máº¯c.

---

## ğŸ“Š PhÃ¢n tÃ­ch thiáº¿t káº¿ há»‡ thá»‘ng (System Design & Analysis)

### 1. SÆ¡ Ä‘á»“ Use Case tá»•ng quan (General Use Case Diagram)

```mermaid
graph LR
    %% Actors
    Guest([KhÃ¡ch])
    User([NgÆ°á»i dÃ¹ng])
    Org([Tá»• chá»©c])
    Admin([Quáº£n trá»‹ viÃªn])
    AI([AI Assistant])
    FB([Facebook API])

    %% Quan há»‡ giá»¯a cÃ¡c Actor (DÃ¹ng mÅ©i tÃªn thÆ°á»ng cho flowchart)
    User -.-> Guest
    Org -.-> User

    %% Use Cases
    UC_View(Xem thÃ´ng tin: Dá»± Ã¡n, Tin tá»©c, Cá»™ng Ä‘á»“ng)
    UC_Auth(ÄÄƒng kÃ½ / ÄÄƒng nháº­p)
    UC_ChatAI(Chat vá»›i AI RAG)
    
    %% Use Case má»›i cho KhÃ¡ch
    UC_GuestDonate(QuyÃªn gÃ³p khÃ´ng Ä‘Äƒng nháº­p)
    
    UC_Donate(QuyÃªn gÃ³p & LÆ°u lá»‹ch sá»­)
    UC_PostComm(ÄÄƒng bÃ i cá»™ng Ä‘á»“ng)
    UC_Interact(Like, Comment bÃ i viáº¿t)
    UC_ReqOrg(ÄÄƒng kÃ½ trá»Ÿ thÃ nh Tá»• chá»©c)
    UC_ChatAdmin(Chat vá»›i Admin)
    UC_Profile(Quáº£n lÃ½ há»“ sÆ¡ & Lá»‹ch sá»­)

    UC_CreateCamp(Táº¡o dá»± Ã¡n quyÃªn gÃ³p)
    UC_ManageCamp(Quáº£n lÃ½ dá»± Ã¡n cá»§a tá»• chá»©c)

    UC_ApproveCamp(Duyá»‡t dá»± Ã¡n)
    UC_ApprovePost(Duyá»‡t bÃ i cá»™ng Ä‘á»“ng)
    UC_ApproveOrg(Duyá»‡t yÃªu cáº§u tá»• chá»©c)
    UC_ManageNews(Quáº£n lÃ½ Tin tá»©c)
    UC_ManageUsers(Quáº£n lÃ½ Tá»• chá»©c)
    UC_Support(Tráº£ lá»i Chat ngÆ°á»i dÃ¹ng)
    UC_AutoPost(Tá»± Ä‘á»™ng Ä‘Äƒng bÃ i Facebook)

    %% Relationships cho Guest
    Guest --> UC_View
    Guest --> UC_Auth
    Guest --> UC_ChatAI
    Guest --> UC_GuestDonate

    %% Relationships cho User
    User --> UC_Donate
    User --> UC_PostComm
    User --> UC_Interact
    User --> UC_ReqOrg
    User --> UC_ChatAdmin
    User --> UC_Profile

    %% Relationships cho Organization
    Org --> UC_CreateCamp
    Org --> UC_ManageCamp

    %% Relationships cho Admin
    Admin --> UC_ApproveCamp
    Admin --> UC_ApprovePost
    Admin --> UC_ApproveOrg
    Admin --> UC_ManageNews
    Admin --> UC_ManageUsers
    Admin --> UC_Support

    %% Há»‡ thá»‘ng tá»± Ä‘á»™ng
    UC_ApproveCamp -.->|Include| UC_AutoPost
    UC_AutoPost --> FB
    UC_ChatAI <--> AI

    %% Styling
    style Guest fill:#f9f9f9
    style FB fill:#e7f3ff
    style AI fill:#fff4dd
```

### 2. SÆ¡ Ä‘á»“ Use Case phÃ¢n rÃ£ (Decomposed Use Case Diagrams)

#### 2.1. PhÃ¢n rÃ£ Quáº£n lÃ½ Dá»± Ã¡n & QuyÃªn gÃ³p
```mermaid
flowchart LR
    User([NgÆ°á»i dÃ¹ng])
    Org([Tá»• chá»©c])
    Admin([Quáº£n trá»‹ viÃªn])

    UC_Search(TÃ¬m kiáº¿m & Lá»c dá»± Ã¡n)
    UC_ViewDetail(Xem chi tiáº¿t dá»± Ã¡n)
    UC_Donate(Thá»±c hiá»‡n chuyá»ƒn khoáº£n quyÃªn gÃ³p)
    UC_Create(Äiá»n form táº¡o dá»± Ã¡n)
    UC_Approve(Kiá»ƒm duyá»‡t dá»± Ã¡n)
    UC_Delete(XÃ³a dá»± Ã¡n)

    User --> UC_Search
    User --> UC_ViewDetail
    User --> UC_Donate

    Org --> UC_Create
    
    Admin --> UC_Approve
    Admin --> UC_Delete
```

#### 2.2. PhÃ¢n rÃ£ Quáº£n lÃ½ Cá»™ng Ä‘á»“ng
```mermaid
flowchart LR
    User([NgÆ°á»i dÃ¹ng])
    Admin([Quáº£n trá»‹ viÃªn])

    UC_CreatePost(Táº¡o bÃ i viáº¿t má»›i)
    UC_UploadImg(Táº£i áº£nh Ä‘Ã­nh kÃ¨m)
    UC_Like(ThÃ­ch bÃ i viáº¿t)
    UC_Comment(BÃ¬nh luáº­n bÃ i viáº¿t)
    UC_ApprovePost(Duyá»‡t bÃ i viáº¿t)
    UC_DeletePost(XÃ³a bÃ i viáº¿t vi pháº¡m)

    User --> UC_CreatePost
    UC_CreatePost -.->|Include| UC_UploadImg
    User --> UC_Like
    User --> UC_Comment

    Admin --> UC_ApprovePost
    Admin --> UC_DeletePost
```

### 3. Quy trÃ¬nh nghiá»‡p vá»¥ (Business Processes)

#### 3.1. Activity Diagram: Quy trÃ¬nh QuyÃªn gÃ³p
```mermaid
stateDiagram-v2
    [*] --> XemDanhSach: NgÆ°á»i dÃ¹ng truy cáº­p trang Dá»± Ã¡n
    XemDanhSach --> XemChiTiet: Chá»n 1 dá»± Ã¡n
    XemChiTiet --> BamQuyenGop: Báº¥m nÃºt "QuyÃªn gÃ³p ngay"
    
    state KiemTraDangNhap {
        direction LR
        ChuaDangNhap --> YeuCauDangNhap
        DaDangNhap --> HienThiForm
    }
    
    BamQuyenGop --> KiemTraDangNhap
    YeuCauDangNhap --> [*]
    
    HienThiForm --> NhapThongTin: Nháº­p sá»‘ tiá»n & Lá»i chÃºc
    NhapThongTin --> QuetQR: Hiá»ƒn thá»‹ mÃ£ QR thanh toÃ¡n
    QuetQR --> XacNhan: Báº¥m "TÃ´i Ä‘Ã£ chuyá»ƒn khoáº£n"
    XacNhan --> LuuDB: LÆ°u giao dá»‹ch vÃ o Firestore
    LuuDB --> CapNhatTien: Cáº­p nháº­t tá»•ng tiá»n dá»± Ã¡n
    CapNhatTien --> HoanThanh: Hiá»ƒn thá»‹ thÃ´ng bÃ¡o cáº£m Æ¡n
    HoanThanh --> [*]
```

#### 3.2. Activity Diagram: Quy trÃ¬nh Táº¡o vÃ  Duyá»‡t dá»± Ã¡n
```mermaid
stateDiagram-v2
    [*] --> ToChucTaoDuAn: Tá»• chá»©c Ä‘iá»n form vÃ  submit
    ToChucTaoDuAn --> ChoDuyet: LÆ°u vÃ o DB (status='pending')
    ChoDuyet --> AdminKiemTra: Admin xem chi tiáº¿t dá»± Ã¡n
    
    state AdminKiemTra {
        direction LR
        HopLe --> Duyet
        KhongHopLe --> TuChoi
    }
    
    AdminKiemTra --> DuocDuyet: Admin chá»n Duyá»‡t
    AdminKiemTra --> BiTuChoi: Admin chá»n Tá»« chá»‘i
    
    DuocDuyet --> DangFacebook: Há»‡ thá»‘ng tá»± Ä‘á»™ng gá»i FB API
    DangFacebook --> GuiThongBao: Gá»­i thÃ´ng bÃ¡o cho Users
    GuiThongBao --> [*]
    
    BiTuChoi --> [*]
```

#### 3.3. Sequence Diagram: Tá»± Ä‘á»™ng Ä‘Äƒng Facebook khi duyá»‡t dá»± Ã¡n
```mermaid
sequenceDiagram
    actor Admin
    participant System as Há»‡ thá»‘ng (React)
    participant DB as Firestore
    participant FB as Facebook API

    Admin->>System: Báº¥m "Duyá»‡t dá»± Ã¡n"
    System->>DB: Cáº­p nháº­t status = 'approved'
    DB-->>System: ThÃ nh cÃ´ng
    System->>DB: Táº¡o thÃ´ng bÃ¡o (Notification) cho users
    System->>System: Format ná»™i dung bÃ i viáº¿t (TÃªn, Má»¥c tiÃªu, NgÃ y, MÃ´ táº£)
    System->>FB: POST /page_id/photos (KÃ¨m áº£nh, ná»™i dung, Access Token)
    FB-->>System: Tráº£ vá» Post ID (ThÃ nh cÃ´ng)
    System-->>Admin: Hiá»ƒn thá»‹ thÃ´ng bÃ¡o "Duyá»‡t thÃ nh cÃ´ng"
```

### 4. Äáº·c táº£ Use Case (Use Case Specifications)

#### UC01: QuyÃªn gÃ³p cho dá»± Ã¡n
- **TÃ¡c nhÃ¢n:** NgÆ°á»i dÃ¹ng (User).
- **MÃ´ táº£:** NgÆ°á»i dÃ¹ng chá»n má»™t dá»± Ã¡n, nháº­p sá»‘ tiá»n muá»‘n quyÃªn gÃ³p, quÃ©t mÃ£ QR Ä‘á»ƒ chuyá»ƒn khoáº£n vÃ  Ä‘á»ƒ láº¡i lá»i chÃºc.
- **Tiá»n Ä‘iá»u kiá»‡n:** NgÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p. Dá»± Ã¡n Ä‘ang á»Ÿ tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng.
- **Luá»“ng sá»± kiá»‡n chÃ­nh:**
  1. NgÆ°á»i dÃ¹ng báº¥m "QuyÃªn gÃ³p ngay" táº¡i trang chi tiáº¿t dá»± Ã¡n.
  2. Há»‡ thá»‘ng hiá»ƒn thá»‹ modal nháº­p sá»‘ tiá»n vÃ  lá»i chÃºc.
  3. NgÆ°á»i dÃ¹ng nháº­p thÃ´ng tin vÃ  báº¥m "Tiáº¿p tá»¥c".
  4. Há»‡ thá»‘ng táº¡o mÃ£ QR thanh toÃ¡n dá»±a trÃªn sá»‘ tiá»n.
  5. NgÆ°á»i dÃ¹ng quÃ©t mÃ£ QR báº±ng á»©ng dá»¥ng ngÃ¢n hÃ ng vÃ  báº¥m "TÃ´i Ä‘Ã£ chuyá»ƒn khoáº£n".
  6. Há»‡ thá»‘ng lÆ°u thÃ´ng tin giao dá»‹ch vÃ o Firestore, cáº­p nháº­t sá»‘ tiá»n Ä‘Ã£ quyÃªn gÃ³p cá»§a dá»± Ã¡n.
  7. Há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng bÃ¡o cáº£m Æ¡n vÃ  cáº­p nháº­t danh sÃ¡ch ngÆ°á»i á»§ng há»™.

#### UC02: ÄÄƒng kÃ½ trá»Ÿ thÃ nh Tá»• chá»©c
- **TÃ¡c nhÃ¢n:** NgÆ°á»i dÃ¹ng (User), Quáº£n trá»‹ viÃªn (Admin).
- **MÃ´ táº£:** NgÆ°á»i dÃ¹ng gá»­i yÃªu cáº§u nÃ¢ng cáº¥p tÃ i khoáº£n thÃ nh Tá»• chá»©c Ä‘á»ƒ cÃ³ thá»ƒ táº¡o dá»± Ã¡n. Admin sáº½ kiá»ƒm duyá»‡t yÃªu cáº§u nÃ y.
- **Tiá»n Ä‘iá»u kiá»‡n:** NgÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p vÃ  Ä‘ang lÃ  Role 1.
- **Luá»“ng sá»± kiá»‡n chÃ­nh:**
  1. NgÆ°á»i dÃ¹ng vÃ o trang Há»“ sÆ¡, chá»n tab "ÄÄƒng kÃ½ tá»• chá»©c".
  2. NgÆ°á»i dÃ¹ng Ä‘iá»n TÃªn tá»• chá»©c, MÃ´ táº£, táº£i lÃªn Logo vÃ  Giáº¥y tá» chá»©ng thá»±c (PDF/áº¢nh).
  3. Há»‡ thá»‘ng lÆ°u yÃªu cáº§u vÃ o collection `organization_requests` vá»›i tráº¡ng thÃ¡i `pending`.
  4. Admin vÃ o Dashboard, tab "Duyá»‡t tá»• chá»©c".
  5. Admin xem thÃ´ng tin, giáº¥y tá» vÃ  báº¥m "Duyá»‡t".
  6. Há»‡ thá»‘ng cáº­p nháº­t Role cá»§a ngÆ°á»i dÃ¹ng thÃ nh 2, táº¡o báº£n ghi trong collection `organizations`.
  7. Há»‡ thá»‘ng gá»­i thÃ´ng bÃ¡o cho ngÆ°á»i dÃ¹ng.

#### UC03: Duyá»‡t dá»± Ã¡n vÃ  Tá»± Ä‘á»™ng Ä‘Äƒng Facebook
- **TÃ¡c nhÃ¢n:** Quáº£n trá»‹ viÃªn (Admin), Facebook API.
- **MÃ´ táº£:** Admin kiá»ƒm tra thÃ´ng tin dá»± Ã¡n do Tá»• chá»©c gá»­i lÃªn. Náº¿u há»£p lá»‡, Admin duyá»‡t dá»± Ã¡n. Há»‡ thá»‘ng tá»± Ä‘á»™ng cáº­p nháº­t tráº¡ng thÃ¡i, gá»­i thÃ´ng bÃ¡o cho ngÆ°á»i dÃ¹ng vÃ  tá»± Ä‘á»™ng táº¡o má»™t bÃ i viáº¿t lÃªn Facebook Page.
- **Tiá»n Ä‘iá»u kiá»‡n:** Admin Ä‘Ã£ Ä‘Äƒng nháº­p. CÃ³ Ã­t nháº¥t 1 dá»± Ã¡n Ä‘ang chá» duyá»‡t. ÄÃ£ cáº¥u hÃ¬nh Facebook Access Token.
- **Luá»“ng sá»± kiá»‡n chÃ­nh:**
  1. Admin truy cáº­p tab "Duyá»‡t dá»± Ã¡n" trong Admin Dashboard.
  2. Admin xem chi tiáº¿t dá»± Ã¡n vÃ  báº¥m "Duyá»‡t dá»± Ã¡n".
  3. Há»‡ thá»‘ng cáº­p nháº­t tráº¡ng thÃ¡i dá»± Ã¡n thÃ nh `approved` trong Firestore.
  4. Há»‡ thá»‘ng táº¡o cÃ¡c báº£n ghi thÃ´ng bÃ¡o (Notification) cho táº¥t cáº£ ngÆ°á»i dÃ¹ng.
  5. Há»‡ thá»‘ng gá»i Facebook Graph API (`/photos`) truyá»n vÃ o URL áº£nh, ná»™i dung caption vÃ  Access Token.
  6. Facebook API tráº£ vá» káº¿t quáº£ thÃ nh cÃ´ng.
  7. Há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng bÃ¡o "Duyá»‡t thÃ nh cÃ´ng" cho Admin.

#### UC04: Chat vá»›i AI (TÃ­ch há»£p RAG)
- **TÃ¡c nhÃ¢n:** KhÃ¡ch/NgÆ°á»i dÃ¹ng, Gemini AI.
- **MÃ´ táº£:** NgÆ°á»i dÃ¹ng Ä‘áº·t cÃ¢u há»i cho AI Chatbot. Há»‡ thá»‘ng tá»± Ä‘á»™ng láº¥y thÃ´ng tin cÃ¡c dá»± Ã¡n Ä‘ang hoáº¡t Ä‘á»™ng vÃ  danh sÃ¡ch tá»• chá»©c tá»« database lÃ m ngá»¯ cáº£nh (Context) gá»­i cho AI Ä‘á»ƒ AI tráº£ lá»i chÃ­nh xÃ¡c dá»±a trÃªn dá»¯ liá»‡u thá»±c táº¿.
- **Tiá»n Ä‘iá»u kiá»‡n:** KhÃ´ng yÃªu cáº§u Ä‘Äƒng nháº­p.
- **Luá»“ng sá»± kiá»‡n chÃ­nh:**
  1. NgÆ°á»i dÃ¹ng má»Ÿ Chat Widget vÃ  chá»n tab "Chat vá»›i AI".
  2. NgÆ°á»i dÃ¹ng nháº­p cÃ¢u há»i (VD: "CÃ³ dá»± Ã¡n nÃ o vá» giÃ¡o dá»¥c Ä‘ang cháº¡y khÃ´ng?") vÃ  báº¥m gá»­i.
  3. Há»‡ thá»‘ng truy váº¥n Firestore láº¥y danh sÃ¡ch dá»± Ã¡n (`status == 'approved'`) vÃ  danh sÃ¡ch tá»• chá»©c.
  4. Há»‡ thá»‘ng tá»•ng há»£p dá»¯ liá»‡u thÃ nh má»™t Ä‘oáº¡n vÄƒn báº£n (Context).
  5. Há»‡ thá»‘ng gá»­i Prompt bao gá»“m: System Instruction + Context + CÃ¢u há»i cá»§a ngÆ°á»i dÃ¹ng tá»›i Gemini API.
  6. Gemini API xá»­ lÃ½ vÃ  tráº£ vá» cÃ¢u tráº£ lá»i.
  7. Há»‡ thá»‘ng hiá»ƒn thá»‹ cÃ¢u tráº£ lá»i lÃªn giao diá»‡n chat.

---

## âš™ï¸ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t (Setup & Installation)

### BÆ°á»›c 1: Clone dá»± Ã¡n vÃ  cÃ i Ä‘áº·t thÆ° viá»‡n
```bash
npm install
```

### BÆ°á»›c 2: Cáº¥u hÃ¬nh biáº¿n mÃ´i trÆ°á»ng
Táº¡o file `.env` á»Ÿ thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n vÃ  Ä‘iá»n cÃ¡c thÃ´ng tin sau:

```env
# Firebase Configuration
VITE_FIREBASE_API_KEY=your_firebase_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_firebase_auth_domain
VITE_FIREBASE_PROJECT_ID=your_firebase_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_firebase_storage_bucket
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id

# AI Chatbot Configuration
VITE_GEMINI_API_KEY=your_gemini_api_key

# Facebook Auto-post Configuration
VITE_FACEBOOK_PAGE_ID=your_facebook_page_id
VITE_FACEBOOK_PAGE_ACCESS_TOKEN=your_facebook_page_access_token
```

### BÆ°á»›c 3: Cháº¡y á»©ng dá»¥ng (Development)
```bash
npm run dev
```
á»¨ng dá»¥ng sáº½ cháº¡y táº¡i `http://localhost:3000`.

### BÆ°á»›c 4: Build á»©ng dá»¥ng (Production)
```bash
npm run build
```

---

## ğŸ“‚ Cáº¥u trÃºc thÆ° má»¥c chÃ­nh (Folder Structure)

```text
src/
â”œâ”€â”€ components/        # CÃ¡c component UI tÃ¡i sá»­ dá»¥ng (ChatWidget, Navbar, Layout...)
â”œâ”€â”€ context/           # React Context (AuthContext quáº£n lÃ½ state Ä‘Äƒng nháº­p)
â”œâ”€â”€ lib/               # CÃ¡c file cáº¥u hÃ¬nh thÆ° viá»‡n (firebase.ts, uploadImage.ts)
â”œâ”€â”€ pages/             # CÃ¡c trang chÃ­nh (Home, AdminDashboard, Campaigns, Community...)
â”œâ”€â”€ types/             # Äá»‹nh nghÄ©a TypeScript Interfaces/Types
â”œâ”€â”€ App.tsx            # Component gá»‘c, cáº¥u hÃ¬nh Routing
â””â”€â”€ main.tsx           # Entry point cá»§a á»©ng dá»¥ng
```

---

## ğŸ¤ ÄÃ³ng gÃ³p (Contributing)
Dá»± Ã¡n Ä‘Æ°á»£c phÃ¡t triá»ƒn vá»›i má»¥c Ä‘Ã­ch cá»™ng Ä‘á»“ng. Má»i Ä‘Ã³ng gÃ³p vá» code, bÃ¡o cÃ¡o lá»—i (issues) hay Ä‘á» xuáº¥t tÃ­nh nÄƒng Ä‘á»u Ä‘Æ°á»£c hoan nghÃªnh!
